<!DOCTYPE html><html lang="en-us" >

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Source Themes Academic 4.8.0">

  

  
  
  
  
  
    
    
    
  
  

  <meta name="author" content="Anthony Aigboje Akhonokhue">

  
  
  
    
  
  <meta name="description" content="Predicting the result of a virtual football game with SVM and random forest algorithms using the tidymodels r package">

  
  <link rel="alternate" hreflang="en-us" href="https://talkrtive.com/post/tidymodels-virtual-football-prediction/">

  


  
  
  
  <meta name="theme-color" content="#8486B2">
  

  
  
  
  <script src="/js/mathjax-config.js"></script>
  

  
  
  
  
    
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0-1/css/all.min.css" integrity="sha256-4w9DunooKSr3MFXHXWyFER38WmPdm361bQS/2KUWZbU=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">

    
    
    
      
    
    
      
      
        
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/github.min.css" crossorigin="anonymous" title="hl-light">
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/dracula.min.css" crossorigin="anonymous" title="hl-dark" disabled>
        
      
    

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.5.1/leaflet.css" integrity="sha256-SHMGCYmST46SoyGgo4YR/9AlK1vf3ff84Aq9yK4hdqM=" crossorigin="anonymous">
    

    

    
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.1.2/lazysizes.min.js" integrity="sha256-Md1qLToewPeKjfAHU1zyPwOutccPAm5tahnaw7Osw0A=" crossorigin="anonymous" async></script>
      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js" integrity="" crossorigin="anonymous" async></script>
      
    
      

      
      

      
    

  

  
  
  
    
      
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Playfair+Display:400,400i%7CRaleway:400,700%7CRoboto+Mono&display=swap">
    
  

  
  
  
  
  <link rel="stylesheet" href="/css/academic.css">

  




  


  
  

  

  <link rel="manifest" href="/index.webmanifest">
  <link rel="icon" type="image/png" href="/images/icon_hua698ec778b0c7d6953e571e88dcbf69b_38266_32x32_fill_lanczos_center_2.png">
  <link rel="apple-touch-icon" type="image/png" href="/images/icon_hua698ec778b0c7d6953e571e88dcbf69b_38266_192x192_fill_lanczos_center_2.png">

  <link rel="canonical" href="https://talkrtive.com/post/tidymodels-virtual-football-prediction/">

  
  
  
  
  
  
  
    
  
  
  <meta property="twitter:card" content="summary_large_image">
  
  <meta property="twitter:site" content="@toniwirelex">
  <meta property="twitter:creator" content="@toniwirelex">
  
  <meta property="og:site_name" content="talkRtive">
  <meta property="og:url" content="https://talkrtive.com/post/tidymodels-virtual-football-prediction/">
  <meta property="og:title" content="Predicting the result of a Virtual football match using tidymodels | talkRtive">
  <meta property="og:description" content="Predicting the result of a virtual football game with SVM and random forest algorithms using the tidymodels r package"><meta property="og:image" content="https://talkrtive.com/post/tidymodels-virtual-football-prediction/featured.png">
  <meta property="twitter:image" content="https://talkrtive.com/post/tidymodels-virtual-football-prediction/featured.png"><meta property="og:locale" content="en-us">
  
    
      <meta property="article:published_time" content="2020-07-20T00:00:00&#43;00:00">
    
    <meta property="article:modified_time" content="2020-07-20T17:39:32&#43;01:00">
  

  


    






  




<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://talkrtive.com/post/tidymodels-virtual-football-prediction/"
  },
  "headline": "Predicting the result of a Virtual football match using tidymodels",
  
  "image": [
    "https://talkrtive.com/post/tidymodels-virtual-football-prediction/featured.png"
  ],
  
  "datePublished": "2020-07-20T00:00:00Z",
  "dateModified": "2020-07-20T17:39:32+01:00",
  
  "author": {
    "@type": "Person",
    "name": "Anthony Aigboje Akhonokhue"
  },
  
  "publisher": {
    "@type": "Organization",
    "name": "talkRtive",
    "logo": {
      "@type": "ImageObject",
      "url": "https://talkrtive.com/images/icon_hua698ec778b0c7d6953e571e88dcbf69b_38266_192x192_fill_lanczos_center_2.png"
    }
  },
  "description": "Predicting the result of a virtual football game with SVM and random forest algorithms using the tidymodels r package"
}
</script>

  

  


  


  
<style>
.container {
    width: 72%;
    
    padding-right: 0px;
    padding-left: 0px;
}</style>

  <title>Predicting the result of a Virtual football match using tidymodels | talkRtive</title>

</head>
<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents" >

  <aside class="search-results" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" spellcheck="false" type="search" class="form-control">
        
      </div>

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>


  









<nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id="navbar-main">
  <div class="container">

    
    <div class="d-none d-lg-inline-flex">
      <a class="navbar-brand" href="/">talkRtive</a>
    </div>
    

    
    <button type="button" class="navbar-toggler" data-toggle="collapse"
            data-target="#navbar-content" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
    <span><i class="fas fa-bars"></i></span>
    </button>
    

    
    <div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none">
      <a class="navbar-brand" href="/">talkRtive</a>
    </div>
    

    
    
    <div class="navbar-collapse main-menu-item collapse justify-content-end" id="navbar-content">

      
      <ul class="navbar-nav d-md-inline-flex">
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link  active" href="/post/"><span>Blog</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/about/"><span>About</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/resume/"><span>Resume</span></a>
        </li>

        
        

      

        
      </ul>
    </div>

    <ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2">
      
      <li class="nav-item">
        <a class="nav-link js-search" href="#" aria-label="Search"><i class="fas fa-search" aria-hidden="true"></i></a>
      </li>
      

      

      

    </ul>

  </div>
</nav>


  <article class="article">

  












  

  
  
  
<div class="article-container pt-3">
  <h1>Predicting the result of a Virtual football match using tidymodels</h1>

  

  
    


<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
          Last updated on
      
    
    Jul 20, 2020
  </span>
  

  

  

  
  
  
  <span class="middot-divider"></span>
  <a href="/post/tidymodels-virtual-football-prediction/#disqus_thread"></a>
  

  
  
  <span class="middot-divider"></span>
  <span class="article-categories">
    <i class="fas fa-folder mr-1"></i><a href="/category/r-programming/">r programming</a>, <a href="/category/tidymodels/">tidymodels</a></span>
  

</div>

    














  
</div>



  <div class="article-container">

    <div class="article-style">
      <h2 id="after-successfully-scraping-data-from-a-football-betting-sitehahahugoshortcode-s0-hbhb--i-will-now-build-a-simple-model-using-tidymodels-r-package-to-see-how-well-it-will-perform-in-predicting-the-result-of-the-games">After successfully 
<a href="https://talkrtive.com/post/web-scraping-using-rselenium/">scraping data from a football betting site</a>  i will now build a simple model using tidymodels r package to see how well it will perform in predicting the result of the games.</h2>
<p>Below are some information about the dataset:</p>
<ul>
<li><strong>home      &ndash;&gt;</strong> <em>A premier league club at home to play against an opponent</em></li>
<li><strong>away      &ndash;&gt;</strong> <em>A premier league club away from home to play against the home team</em></li>
<li><strong>homeOdd   &ndash;&gt;</strong> <em>the odds that the home team will win a particular match</em></li>
<li><strong>drawOdd   &ndash;&gt;</strong> <em>the odds that both teams will draw a particular match</em></li>
<li><strong>awaysOdd  &ndash;&gt;</strong> <em>the odds that the away team will win particular match</em></li>
<li><strong>homeR     &ndash;&gt;</strong> <em>result of the home team after a particular match</em></li>
<li><strong>awayR     &ndash;&gt;</strong> <em>result of the away team after a particular match</em></li>
<li><strong>matchtime &ndash;&gt;</strong> <em>the time a particular match was played</em></li>
<li><strong>leagueW   &ndash;&gt;</strong> <em>the week a particular match was played</em></li>
<li><strong>day       &ndash;&gt;</strong> <em>the day a particular match was played</em></li>
</ul>
<p><strong>install the tidymodels r package</strong></p>
<pre><code>install.packages(&quot;tidymodels&quot;) # skip this step if you already have the tidymodels package
</code></pre>
<p><strong>load the package</strong></p>
<pre><code class="language-r">require(tidyverse)
</code></pre>
<p><strong>Read in the dataset and check its dimension</strong></p>
<pre><code class="language-r">bet9ja &lt;- read_csv(&quot;https://raw.githubusercontent.com/twirelex/dataset/master/bet9ja(2).csv&quot;)
</code></pre>
<pre><code>## Parsed with column specification:
## cols(
##   home = col_character(),
##   away = col_character(),
##   homeOdd = col_double(),
##   drawOdd = col_double(),
##   awaysOdd = col_double(),
##   homeR = col_double(),
##   awayR = col_double(),
##   matchtime = col_time(format = &quot;&quot;),
##   leagueWK = col_character(),
##   day = col_character()
## )
</code></pre>
<pre><code class="language-r">dim(bet9ja) ## see the dimension of the data
</code></pre>
<pre><code>## [1] 14410    10
</code></pre>
<p><strong>Overview of the data</strong></p>
<pre><code class="language-r">require(knitr)

kable(head(bet9ja))
</code></pre>
<table>
<thead>
<tr>
<th align="left">home</th>
<th align="left">away</th>
<th align="right">homeOdd</th>
<th align="right">drawOdd</th>
<th align="right">awaysOdd</th>
<th align="right">homeR</th>
<th align="right">awayR</th>
<th align="left">matchtime</th>
<th align="left">leagueWK</th>
<th align="left">day</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">WAT</td>
<td align="left">LIV</td>
<td align="right">6.08</td>
<td align="right">4.37</td>
<td align="right">1.52</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="left">16:32:00</td>
<td align="left">WEEK 34</td>
<td align="left">Friday</td>
</tr>
<tr>
<td align="left">EVE</td>
<td align="left">NWC</td>
<td align="right">2.38</td>
<td align="right">3.20</td>
<td align="right">3.13</td>
<td align="right">0</td>
<td align="right">2</td>
<td align="left">16:32:00</td>
<td align="left">WEEK 34</td>
<td align="left">Friday</td>
</tr>
<tr>
<td align="left">TOT</td>
<td align="left">BUR</td>
<td align="right">1.46</td>
<td align="right">4.38</td>
<td align="right">7.18</td>
<td align="right">3</td>
<td align="right">1</td>
<td align="left">16:32:00</td>
<td align="left">WEEK 34</td>
<td align="left">Friday</td>
</tr>
<tr>
<td align="left">BOU</td>
<td align="left">MNU</td>
<td align="right">3.54</td>
<td align="right">3.00</td>
<td align="right">2.30</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="left">16:32:00</td>
<td align="left">WEEK 34</td>
<td align="left">Friday</td>
</tr>
<tr>
<td align="left">BRI</td>
<td align="left">ASV</td>
<td align="right">2.29</td>
<td align="right">3.02</td>
<td align="right">3.53</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="left">16:32:00</td>
<td align="left">WEEK 34</td>
<td align="left">Friday</td>
</tr>
<tr>
<td align="left">CHE</td>
<td align="left">NOR</td>
<td align="right">1.46</td>
<td align="right">4.38</td>
<td align="right">7.18</td>
<td align="right">3</td>
<td align="right">1</td>
<td align="left">16:32:00</td>
<td align="left">WEEK 34</td>
<td align="left">Friday</td>
</tr>
</tbody>
</table>
<pre><code class="language-r">glimpse(bet9ja)
</code></pre>
<pre><code>## Rows: 14,410
## Columns: 10
## $ home      &lt;chr&gt; &quot;WAT&quot;, &quot;EVE&quot;, &quot;TOT&quot;, &quot;BOU&quot;, &quot;BRI&quot;, &quot;CHE&quot;, &quot;WHU&quot;, &quot;WOL&quot;, &quot;...
## $ away      &lt;chr&gt; &quot;LIV&quot;, &quot;NWC&quot;, &quot;BUR&quot;, &quot;MNU&quot;, &quot;ASV&quot;, &quot;NOR&quot;, &quot;SOU&quot;, &quot;MNC&quot;, &quot;...
## $ homeOdd   &lt;dbl&gt; 6.08, 2.38, 1.46, 3.54, 2.29, 1.46, 1.94, 4.16, 3.02, 2.0...
## $ drawOdd   &lt;dbl&gt; 4.37, 3.20, 4.38, 3.00, 3.02, 4.38, 3.32, 3.81, 3.19, 3.2...
## $ awaysOdd  &lt;dbl&gt; 1.52, 3.13, 7.18, 2.30, 3.53, 7.18, 4.25, 1.82, 2.46, 3.9...
## $ homeR     &lt;dbl&gt; 0, 0, 3, 0, 0, 3, 1, 2, 1, 1, 2, 1, 0, 3, 3, 5, 1, 0, 2, ...
## $ awayR     &lt;dbl&gt; 3, 2, 1, 1, 1, 1, 0, 1, 1, 1, 0, 0, 2, 0, 3, 1, 3, 3, 1, ...
## $ matchtime &lt;time&gt; 16:32:00, 16:32:00, 16:32:00, 16:32:00, 16:32:00, 16:32:...
## $ leagueWK  &lt;chr&gt; &quot;WEEK 34&quot;, &quot;WEEK 34&quot;, &quot;WEEK 34&quot;, &quot;WEEK 34&quot;, &quot;WEEK 34&quot;, &quot;W...
## $ day       &lt;chr&gt; &quot;Friday&quot;, &quot;Friday&quot;, &quot;Friday&quot;, &quot;Friday&quot;, &quot;Friday&quot;, &quot;Friday...
</code></pre>
<p>we do not have a response variable yet so we need to first create a response variable before proceeding.<br>
we will create the new variable from our homeR and awayR variables and call the new variable &ldquo;result&rdquo;, we will encode the &ldquo;result&rdquo; variable as follow:</p>
<ul>
<li>1 when the home team wins</li>
<li>0 when the game ends in a draw</li>
<li>2 when the away team wins</li>
</ul>
<pre><code class="language-r">bet9ja &lt;- bet9ja %&gt;% 
  mutate(result = factor(case_when(homeR &gt; awayR ~ 1, homeR &lt; awayR ~ 2, TRUE ~ 0))) %&gt;%
  select(-homeR, -awayR) # remove the homeR variable and awayR variable as we will no longer need them
</code></pre>
<p>we have now added a 3 category response/dependent variable and this means that we will be building a multiclass classification model.</p>
<p>some of the variables are represented as character variables but we will need them to be categorical variables for the sake of the algorithm we want to make use of.</p>
<pre><code class="language-r">bet9ja &lt;- bet9ja %&gt;% 
  mutate_if(is.character, as.factor)
</code></pre>
<h2 id="data-exploration">DATA EXPLORATION</h2>
<p>If you are familiar with the way football betting works you will know that &ldquo;odds&rdquo; play a huge role on whether a team will win a particular game or not. So let us first visually see the relationship between the odds variables and the result variable.</p>
<p>Let us discretize the odds variables and do a plot</p>
<pre><code class="language-r">bet9ja %&gt;% 
  transmute(result, homeOdd = factor(case_when(homeOdd &lt;= 1.5 ~ &quot;smallO&quot;, homeOdd &gt; 1.5 &amp; homeOdd &lt;= 2 ~ &quot;mediumO&quot;, homeOdd &gt; 2 ~ &quot;bigO&quot;))) %&gt;% 
  ggplot(aes(result, fill = result)) + geom_bar(show.legend = FALSE) + facet_wrap(~homeOdd) + theme_bw() +scale_y_continuous(labels = NULL) + labs(y = NULL, title = &quot;HOME TEAM ODDS PLOT&quot;) + theme(plot.title = element_text(hjust = 0.5))
</code></pre>
<p><img src="/post/predicting-the-result-of-a-virtual-football-match-of-a-betting-site/index_files/figure-html/unnamed-chunk-7-1.png" width="768" />
<strong>The plot above is trying to convince us that when a team is home and its winning odds is big i.e above 2 then the match will likely end up in favor of its opponent(away team), but when its winning odds is small or medium i.e between 1 and 2 then the match will most likely end in favor of the team..</strong></p>
<pre><code class="language-r">bet9ja %&gt;% 
  transmute(result, awaysOdd = factor(case_when(awaysOdd &lt;= 1.5 ~ &quot;smallO&quot;, awaysOdd &gt; 1.5 &amp; awaysOdd &lt;= 2 ~ &quot;mediumO&quot;, awaysOdd &gt; 2 ~ &quot;bigO&quot;))) %&gt;% 
  ggplot(aes(result, fill = result)) + geom_bar(show.legend = FALSE) + facet_wrap(~awaysOdd) + theme_bw() +scale_y_continuous(labels = NULL) + labs(y = NULL, title = &quot;AWAY TEAM ODDS PLOT&quot;) + theme(plot.title = element_text(hjust = 0.5))
</code></pre>
<p><img src="/post/predicting-the-result-of-a-virtual-football-match-of-a-betting-site/index_files/figure-html/unnamed-chunk-8-1.png" width="768" />
<strong>According to the plot above, when a team is away and it is giving a big winning odds in a particular match i.e odds above 2, the game will likely end up in favor of the opposition team(home team), but when the team is giving a small/medium winning odds i.e between 1 and 2 then the match will likely end up in the team&rsquo;s favor</strong></p>
<h2 id="modeling">MODELING</h2>
<p>Now that we have an idea of what the relationship between the odds variables and the result variable looks like let us go ahead and build a predictive model using the tidymodels r package.</p>
<p>let&rsquo;s build a svm model using tidymodels parsnip</p>
<pre><code class="language-r">require(doSNOW) # for parallel processing in windows OS

cl &lt;- makeCluster(6, type = &quot;SOCK&quot;) 
registerDoSNOW(cl)
</code></pre>
<p><strong>split data into training and testing</strong></p>
<pre><code class="language-r">require(tidymodels) # for modeling
set.seed(111)

splitdata &lt;- initial_split(bet9ja)
traindata &lt;- training(splitdata)
testdata &lt;- testing(splitdata)
</code></pre>
<p><strong>fitting</strong></p>
<pre><code class="language-r">svm_model &lt;- svm_rbf(mode = &quot;classification&quot;) %&gt;% 
  set_engine(&quot;kernlab&quot;) %&gt;% 
  fit(result~., data = traindata)
</code></pre>
<p><strong>make prediction on test data and view confusion matrix</strong></p>
<pre><code class="language-r">prediction &lt;- svm_model %&gt;% 
  predict(testdata) %&gt;% 
  transmute(actual = testdata$result, rename(.,predicted = .pred_class)) 
kable(head(prediction, 10))
</code></pre>
<table>
<thead>
<tr>
<th align="left">actual</th>
<th align="left">predicted</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">2</td>
<td align="left">1</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">1</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">2</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">1</td>
</tr>
<tr>
<td align="left">0</td>
<td align="left">1</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">1</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">2</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">1</td>
</tr>
<tr>
<td align="left">0</td>
<td align="left">2</td>
</tr>
<tr>
<td align="left">0</td>
<td align="left">1</td>
</tr>
<tr>
<td align="left">we can see that there are few misclassifications</td>
<td></td>
</tr>
</tbody>
</table>
<pre><code class="language-r">prediction %&gt;% 
  conf_mat(actual, predicted) # view confusion matrix
</code></pre>
<pre><code>##           Truth
## Prediction    0    1    2
##          0    5   10   12
##          1  720 1253  540
##          2  306  246  510
</code></pre>
<pre><code class="language-r">prediction %&gt;% accuracy(actual, predicted) # check accuracy
</code></pre>
<pre><code>## # A tibble: 1 x 3
##   .metric  .estimator .estimate
##   &lt;chr&gt;    &lt;chr&gt;          &lt;dbl&gt;
## 1 accuracy multiclass     0.491
</code></pre>
<p>The svm model produced an accuracy of about 49%</p>
<p>Now let us try to build a random forest model to see if there will be any improvement</p>
<pre><code class="language-r">set.seed(111)
rf_model &lt;- rand_forest(mode = &quot;classification&quot;) %&gt;% 
  set_engine(&quot;ranger&quot;, importance = &quot;permutation&quot;) %&gt;% 
  fit(result~., data = traindata)
</code></pre>
<p><strong>make prediction on test data and view confusion matrix</strong></p>
<pre><code class="language-r">prediction2 &lt;- rf_model %&gt;% 
  predict(testdata) %&gt;% 
  transmute(actual = testdata$result, rename(., predicted = .pred_class)) 
kable(head(prediction2, 10))
</code></pre>
<table>
<thead>
<tr>
<th align="left">actual</th>
<th align="left">predicted</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">2</td>
<td align="left">1</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">1</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">2</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">1</td>
</tr>
<tr>
<td align="left">0</td>
<td align="left">2</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">1</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">2</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">1</td>
</tr>
<tr>
<td align="left">0</td>
<td align="left">2</td>
</tr>
<tr>
<td align="left">0</td>
<td align="left">0</td>
</tr>
</tbody>
</table>
<pre><code class="language-r">prediction2 %&gt;% 
  conf_mat(actual, predicted) # view confusion matrix
</code></pre>
<pre><code>##           Truth
## Prediction    0    1    2
##          0  135  147  141
##          1  586 1086  455
##          2  310  276  466
</code></pre>
<pre><code class="language-r">prediction2 %&gt;% accuracy(actual, predicted) # check accuracy
</code></pre>
<pre><code>## # A tibble: 1 x 3
##   .metric  .estimator .estimate
##   &lt;chr&gt;    &lt;chr&gt;          &lt;dbl&gt;
## 1 accuracy multiclass     0.468
</code></pre>
<p>The svm model performed better judging with the Accuracy</p>
<p>lets view how well each of the variables performed in the model</p>
<pre><code class="language-r">require(vip) # variable importance plot function &quot;vip()&quot;

rf_model %&gt;% 
  vip(geom = &quot;point&quot;)
</code></pre>
<p><img src="/post/predicting-the-result-of-a-virtual-football-match-of-a-betting-site/index_files/figure-html/unnamed-chunk-19-1.png" width="672" />
From the plot above we can clearly see that the odds variables were the most effective predictor variables.</p>
<h3 id="observation">OBSERVATION</h3>
<p>Both models didn&rsquo;t give us the best result but from our analysis we can see that variables that are the most significant determinant of the outcome of any virtual football game are the odds variables, the teams involved or the time/day the game is played doesn&rsquo;t matter that much&hellip;</p>
<h3 id="conclusion">CONCLUSION</h3>
<p>With an accuracy less than 50% the SVM and a random forest model are probably not the best models to depend on when it comes to virtual football game prediction.</p>
<h3 id="wrap-up">Wrap-up</h3>
<p>Shifting from the base r and caret way of modeling can be hard for some of us but seeing how far the tidymodels is preparing to take us (timely upgrade/update) is enough reason for everyone to start trying it out. And also, knowing that the brain behind the caret package is also part  of the tidymodels team makes it even more interesting. I have prepared a short and comprehensive lesson on tidymodels that might be helpful.. 
<a href="">tidymodels for noobs</a></p>

    </div>

    








<div class="share-box" aria-hidden="true">
  <ul class="share">
    
      
      
      
        
      
      
      
      <li>
        <a href="https://twitter.com/intent/tweet?url=https://talkrtive.com/post/tidymodels-virtual-football-prediction/&amp;text=Predicting%20the%20result%20of%20a%20Virtual%20football%20match%20using%20tidymodels" target="_blank" rel="noopener" class="share-btn-twitter">
          <i class="fab fa-twitter"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://www.facebook.com/sharer.php?u=https://talkrtive.com/post/tidymodels-virtual-football-prediction/&amp;t=Predicting%20the%20result%20of%20a%20Virtual%20football%20match%20using%20tidymodels" target="_blank" rel="noopener" class="share-btn-facebook">
          <i class="fab fa-facebook"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="mailto:?subject=Predicting%20the%20result%20of%20a%20Virtual%20football%20match%20using%20tidymodels&amp;body=https://talkrtive.com/post/tidymodels-virtual-football-prediction/" target="_blank" rel="noopener" class="share-btn-email">
          <i class="fas fa-envelope"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://www.linkedin.com/shareArticle?url=https://talkrtive.com/post/tidymodels-virtual-football-prediction/&amp;title=Predicting%20the%20result%20of%20a%20Virtual%20football%20match%20using%20tidymodels" target="_blank" rel="noopener" class="share-btn-linkedin">
          <i class="fab fa-linkedin-in"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="whatsapp://send?text=Predicting%20the%20result%20of%20a%20Virtual%20football%20match%20using%20tidymodels%20https://talkrtive.com/post/tidymodels-virtual-football-prediction/" target="_blank" rel="noopener" class="share-btn-whatsapp">
          <i class="fab fa-whatsapp"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://service.weibo.com/share/share.php?url=https://talkrtive.com/post/tidymodels-virtual-football-prediction/&amp;title=Predicting%20the%20result%20of%20a%20Virtual%20football%20match%20using%20tidymodels" target="_blank" rel="noopener" class="share-btn-weibo">
          <i class="fab fa-weibo"></i>
        </a>
      </li>
    
  </ul>
</div>












  
  





  
    
    
    
      
    
    
    
    <div class="media author-card content-widget-hr">
      
        
        <img class="avatar mr-3 avatar-circle" src="/author/anthony-aigboje-akhonokhue/avatar_hubfc52d57779398b345f384aa9e266e61_58364_270x270_fill_q90_lanczos_center.jpg" alt="Anthony Aigboje Akhonokhue">
      

      <div class="media-body">
        <h5 class="card-title"><a href="https://talkrtive.com/">Anthony Aigboje Akhonokhue</a></h5>
        
        <p class="card-text">A data science enthusiast.</p>
        <ul class="network-icon" aria-hidden="true">
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="/#" >
        <i class="fab fa-linkedin"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://twitter.com/toniwirelex" target="_blank" rel="noopener">
        <i class="fab fa-twitter"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="/#" >
        <i class="fab fa-github"></i>
      </a>
    </li>
  
</ul>

      </div>
    </div>
  







<section id="comments">
  
    
<div id="disqus_thread"></div>
<script>
  let disqus_config = function () {
    
    
    
  };
  (function() {
    if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
      document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
      return;
    }
    var d = document, s = d.createElement('script'); s.async = true;
    s.src = 'https://' + "talkrtive" + '.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


  
</section>








  
  
  <div class="article-widget content-widget-hr">
    <h3>Related</h3>
    <ul>
      
      <li><a href="/post/data-cleaning-tidyverse-r-package/">Data Cleaning and Analysis with the tidyverse r package</a></li>
      
      <li><a href="/post/web-scraping-using-rselenium/">scraping dynamic content of a site with login requirement and iframe using RSelenium</a></li>
      
    </ul>
  </div>
  





  </div>
</article>

      

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js" integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js" integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/instant.page/5.1.0/instantpage.min.js" integrity="sha512-1+qUtKoh9XZW7j+6LhRMAyOrgSQKenQ4mluTR+cvxXjP1Z54RxZuzstR/H9kgPXQsVB8IW7DMDFUJpzLjvhGSQ==" crossorigin="anonymous"></script>

      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/8.4.8/mermaid.min.js" integrity="sha256-lyWCDMnMeZiXRi7Zl54sZGKYmgQs4izcT7+tKc+KUBk=" crossorigin="anonymous" title="mermaid"></script>
      

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js" integrity="sha256-eOgo0OtLL4cdq7RdwRUiGKLX9XsIJ7nGhWEKbohmVAQ=" crossorigin="anonymous"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/languages/r.min.js"></script>
        
      

    

    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.5.1/leaflet.js" integrity="sha256-EErZamuLefUnbMBQbsEqu1USa+btR2oIlCpBJbyD4/g=" crossorigin="anonymous"></script>
    

    
    
    <script>const code_highlighting = true;</script>
    

    
    
    <script>const isSiteThemeDark = false;</script>
    

    
    
    
    
    
    
    <script>
      const search_config = {"indexURI":"/index.json","minLength":1,"threshold":0.3};
      const i18n = {"no_results":"No results found","placeholder":"Search...","results":"results found"};
      const content_type = {
        'post': "Posts",
        'project': "Projects",
        'publication' : "Publications",
        'talk' : "Talks",
        'slides' : "Slides"
        };
    </script>
    

    
    

    
    
    <script id="search-hit-fuse-template" type="text/x-template">
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js" integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>
    

    
    

    
    

    
    
    <script id="dsq-count-scr" src="https://talkrtive.disqus.com/count.js" async></script>
    

    
    
    
    
    
    
    
    
    
      
    
    
    
    
    <script src="/js/academic.min.66c553246b0f279a03be6e5597f72b52.js"></script>

    






  
  
  <div class="container">
    <footer class="site-footer">
  

  <p class="powered-by">
    
  </p>

  
  






  <p class="powered-by">
    
    Published with
    <a href="https://sourcethemes.com/academic/" target="_blank" rel="noopener">Academic Website Builder</a>
    

    
    <span class="float-right" aria-hidden="true">
      <a href="#" class="back-to-top">
        <span class="button_icon">
          <i class="fas fa-chevron-up fa-2x"></i>
        </span>
      </a>
    </span>
    
  </p>
</footer>

  </div>
  

  
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

</body>
</html>
